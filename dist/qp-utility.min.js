!function(n,e){function t(n){return n}function r(n,e){wn(e,null,n)}function i(n){return"undefined"!=typeof n&&null!==n}function o(n){return n-parseFloat(n)>=0}function u(n){return"string"==typeof n}function a(n){return"function"==typeof n}function c(n){return!f(n)}function f(n){return"undefined"==typeof n}function l(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function s(n,e){return Math.floor(Math.random()*(e-n))+n}function p(n){return"undefined"==typeof n||null===n||xt(n)&&0===n.length||u(n)&&0===n.length||o(n)&&0===n}function d(n){return!p(n)}function h(n,e){return f(n)?e:n}function g(n){return String(n).toLocaleLowerCase()}function v(n){return String(n).toLocaleUpperCase()}function m(n,t){if(n===e||null===n)return"";if(t===e||null===t){var r=/(^\s+|\s+$)/g;return String(n).replace(r,"")}return t=l(t),String(n).replace(new RegExp("^"+t+"+|"+t+"+$","g"),"")}function y(n,t){return t=t?l(t):" ",n===e||null===n?"":String(n).replace(new RegExp("^"+t+"+"),"")}function _(n,t){return t=t?l(t):" ",n===e||null===n?"":String(n).replace(new RegExp(t+"+$"),"")}function b(n){var t=/\r?\n|\r/g,r=/(^\s+|\s+$)/g;return n===e||null===n?"":String(n).replace(t," ").replace(r,"")}function x(n,e){return n.split(e)}function w(n){return String(n).split(/\r\n|\r|\n/g)}function k(){return on(rn(nn(arguments))).join("")}function O(n,e,t,r,i){var o=o(n);return o+" "+(e||"")+(o>1?r:t)+(i||"")}function S(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function j(n){return String(n).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'")}function T(n,e,t){return N(n,e,t,!1)}function C(n,e,t){return N(n,e,t,!0)}function N(n,t,r,i){if(n===e||null===n)return"";for(f(r)&&(r=t,t=" "),n=String(n);n.length<r;)n=i?n+t:t+n;return n}function A(n,e){return 0===n.lastIndexOf(e,0)}function D(n,e){return n.indexOf(e,n.length-e.length)!==-1}function L(n,e){return n.slice(0,n.indexOf(e))}function E(n,e){return n.slice(0,n.lastIndexOf(e))}function M(n,e){return n.slice(n.indexOf(e)+e.length)}function P(n,e){return n.slice(n.lastIndexOf(e)+e.length)}function $(n,e,t){if(t||(t=e),n&&e&&t){var r=n.indexOf(e)+1;return n.slice(r,n.indexOf(t,r))}return n}function q(n){return n.replace(/\w+/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})}function F(n,e){for(var t="",r=0,i=n.length;r<i;r++){var o=n[r];t+=0===r?o.toUpperCase():o===e?n[++r].toUpperCase():o}return t}function U(n,e){for(var t="",r="",i="",u="",a=0,c=n.length;a<c;a++)i=r,r=n[a],u=r.toLowerCase(),t+=0===a||"."==i||"."==r||r==e||o(r)?u:r==r.toUpperCase()?e+u:u;return t}function J(n){return W(n,"_","-")}function I(n){return F(n,"_")}function R(n){return U(n,"_")}function H(n){return U(n,"-")}function G(n){return F(n,"-")}function z(n){return W(n,"-","_")}function B(n,e,t){for(var r=[],i=e;i--;)r.push(n);return r.join(t||"")}function W(n,t,r){return t=t?l(t):"",n===e||null===n?"":String(n).replace(new RegExp(t,"g"),r||"")}function Z(n,e,t,r){return r=r||{},i(e)?o(e)?(t=e,e="  "):i(t)&&t>1&&(e=B(e,t)):e="  ",n.split("\n").map(function(n,t){return 0===t&&r.ignore_first_line?n:e+n}).join("\n")}function q(n){var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;return n.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(n,t,r){return t>0&&t+n.length!==r.length&&n.search(e)>-1&&":"!==r.charAt(t-2)&&("-"!==r.charAt(t+n.length)||"-"===r.charAt(t-1))&&r.charAt(t-1).search(/[^\s-]/)<0?n.toLowerCase():n.substr(1).search(/[A-Z]|\../)>-1?n:n.charAt(0).toUpperCase()+n.substr(1)})}function Y(n){for(var e=0,t=0;t<n.length;t++){var r=n.charCodeAt(t);r<=127?e+=1:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,t++):e+=r<65535?3:4}return e}function V(n,t,r){return Pn(t,"object")?(r=Gn(r,{leave_unmatched:!1}),n.replace(/\{{([A-Za-z0-9_\.]+)\}}/g,function(n,i){var o=Tn(t,i);return o===e?r.leave_unmatched?n:"":o})):(t=rn(wt.call(arguments,1)),n.replace(/\{{([0-9]+)\}}/g,function(n,r){var i=t[r];return i===e?"":i}))}function X(n,e){return n.toJSON&&(n=n.toJSON()),e===!0?p(n)?"":"{ "+Vn(n).map(function(n){var e=n[1],t=Mn(e);return"function"===t&&(e=e.name||"fn"),"array"===t&&(e="[ "+e.length+" ]"),"object"===t&&(e=p(e)?"{ }":"{ â€¦ }"),n[0]+": "+e}).join(", ")+" }":p(n)?"{ }":$n(n,"object","array")?n:"{ "+Vn(n).map(function(n){var e=n[1];return Pn(e,"function")?n[0]+": "+e.name||"fn":Pn(e,"array")?n[0]+": [ "+he(e,function(n){return X(n)}).join(", ")+" ]":Pn(e,"object")?n[0]+": "+X(e):n[0]+": "+e}).join(", ")+" }"}function K(n,t,r){return Pn(n,"array")?n.reduce(t,r):e}function Q(n){return wt.call(n)}function nn(n){return xt(n)?n:n&&fn(n,"length")?wt.call(n):"string"==typeof n?n.split(""):"number"==typeof n?0===n?[]:new Array(n):n?[n]:[]}function en(){return wt.call(arguments).reduce(function(n,e){return nn(n).concat(nn(e))},[])}function tn(n,e){var t=[];if(xt(n)){e=e||function(n,e){return n.indexOf(e)===-1};for(var r=0,i=n.length;r<i;r++){var o=n[r];e(t,o)&&t.push(o)}}return t}function rn(){function n(e){return K(e,function(e,t){return xe(t,xt)?e.concat(n(t)):e.concat(t)},[])}var e=wt.call(arguments);return xe(e,xt)?n(e):e}function on(n){for(var e=-1,t=n?n.length:0,r=[];++e<t;){var i=n[e];i&&r.push(i)}return r}function un(n){if(xt(n))for(var e=0,t=n.length;e<t;e++)n.pop();else for(var r in n)n.hasOwnProperty(r)&&delete n[r];return n}function an(n,t){if(xt(t))if(xt(n))for(var r=0,i=t.length;r<i;r++)n.push(t[r]);else n=t;else t===e?xt(n)||(n=[]):xt(n)?n.push(t):n=[t];return n}function cn(n,e){un(n),an(n,e)}function fn(n,e){return Object.keys(n).indexOf(e)!==-1}function ln(n){var e=new Date;if(n){if("utc"===n)return e.toUTCString();if("iso"===n)return e.toISOString();if("int"===n)return e.getTime();if("string"===n)return String(e.getTime());if("time"===n){var t=T(e.getUTCHours().toString(),"0",2),r=T(e.getUTCMinutes().toString(),"0",2),i=T(e.getUTCSeconds().toString(),"0",2);return[t,r,i].join(":")}}return e.offset=function(n,t){return"day"===t||"days"===t?n=24*n*60*60*1e3:"hour"!==t&&"hours"!==t||(n=60*n*60*1e3),new Date(e.getTime()+n)},e}function sn(n){return new Date(n)}function pn(){var n=ln(),e=n.getUTCFullYear().toString(),t=T(n.getUTCMonth().toString(),"0",2),r=T(n.getUTCDate().toString(),"0",2);return[e,t,r].join("")}function dn(n){return n="string"==typeof n?new Date(n):n,{format:function(e){return"utc"===e?n.toUTCString():"month day, year"===e?Ct[n.getMonth()]+" "+n.getDate()+", "+n.getFullYear():n}}}function hn(){var n=new Date,e=n;return{elapsed:function(){return((new Date-n)/1e3).toFixed(2)},lap:function(){var n=e;return e=new Date,((e-n)/1e3).toFixed(2)}}}function gn(n){if(n.name)return n.name;var e=/function\s([^(]{1,})\(/,t=e.exec(n.toString());return t&&t.length>1?t[1].trim():""}function vn(){var n=wt.call(arguments);return function(){for(var e=0,t=n.length;e<t;e++)n[e].apply(null,arguments)}}function mn(){var n=wt.call(arguments),e=Mn(n[0]);return"object"===e?wn(n[0].done.bind(n[0].context||n[0].bind),n[1],n[2]):"function"===e&&wn(n[0].bind(n[1]),n[2],n[3]),null}function yn(n,e){return e=e||n,de(Zn(n,function(n){return Pn(n,"function")}),function(t,r){n[r]=t.bind(e)}),n}function _n(n,t){var r=Mn(arguments[0]);if(n&&"function"===r)return n.apply(t,wt.call(arguments,2));if("array"===r){var i=wt.call(arguments,2);return he(n,function(n){return n.apply(t,i)})}return e}function bn(n,e,t){var r=0;return function(){++r===e&&n.apply(t,arguments)}}function xn(n,e){var t=ie(arguments,2),r=setTimeout(function(){clearTimeout(r),e.apply(null,t)},n);return r}function wn(e){var t=ie(arguments);if(n.process&&n.process.nextTick)process.nextTick(e.bind(null,t));else var r=setTimeout(function(){clearTimeout(r),e.apply(null,t)},0)}function kn(n,e,t){!function r(){xn(t||500,function(){e()?n():r()})}()}function On(n,e,t,r){var i;return function(){var o=r||this,u=wt.call(arguments),a=function(){i=clearTimeout(i),!t&&n&&n.apply(o,u)},c=t&&!i;i||(i=setTimeout(a,e)),c&&n&&n.apply(o,u)}}function Sn(n,e,t){e=e||250;var r,i;return function(){var o=t||this,u=+new Date,a=wt.call(arguments);r&&u<r+e?(clearTimeout(i),i=setTimeout(function(){r=u,n.apply(o,a)},e)):(r=u,n.apply(o,a))}}function jn(n,e,t){var r=n[e];n[e]=t.bind(n,r.bind(n))}function Tn(n,t,r){var i=r;if(Pn(n,"object"))for(var o=n,u=t.split("."),a=0,c=u.length;a<c&&(o=o[u[a]],o!==e);a++)a==c-1&&(i=o);return i}function Cn(n,t,r){var i=r;if(Pn(n,"object"))for(var o=n,u,a=t.split("."),c=0,f=a.length;c<f&&(u=o,o=o[a[c]],o!==e);c++)c==f-1&&(delete u[a[c]],i=o);return i}function Nn(n,t){var r=!1;if(Pn(n,"object"))for(var i=n,o=t.split("."),u=0,a=o.length;u<a;u++){var c=o[u];if(!i.hasOwnProperty(c))break;if(i=i[c],i===e)break;u==a-1&&(r=!0)}return r}function An(n,t,r){for(var i=n,o=t.split("."),u=0,a=o.length;u<a;u++){if(u==a-1){i[o[u]]=r;break}i=i[o[u]]===e?i[o[u]]={}:i[o[u]]}return n}function Dn(){var n=te(arguments)||{};return de(ie(arguments),function(e){de(e,function(e,t){"undefined"!=typeof e&&(n[t]=e)})}),n}function Ln(){var n=te(arguments)||{};return de(ie(arguments),function(e){ge(e,function(e,t){"undefined"!=typeof e&&n.hasOwnProperty(t)&&(n[t]=e)})}),n}function En(){var n=te(arguments);return de(ie(arguments),function(e){var t=Object.keys(n);de(e,function(e,r){"undefined"!=typeof e&&t.indexOf(r)==-1&&(n[r]=e)})}),n}function Mn(n,e){var t=Ot.call(n).slice(8,-1).toLowerCase();return e&&"object"===t?n.constructor?(t=gn(n.constructor).toLowerCase(),"object"===t?"pojo":t):"pojo":t}function Pn(n,e){var t=Mn(n);if(arguments.length>2){var r=ie(arguments);return r.indexOf(t)!=-1||"object"===t&&r.indexOf(Mn(n,!0))}return t===e||"object"===t&&Mn(n,!0)===e}function $n(){return!Pn.apply(null,arguments)}function qn(n){function e(n){var t,r=Mn(n);if("array"==r){t=[];for(var i=0,o=n.length;i<o;i++)t[i]=e(n[i])}else if("object"==r){t={};for(var u in n)n.hasOwnProperty(u)&&(t[u]=e(n[u]))}else t="date"==r?new Date(n.getTime()):n;return t}return e(n)}function Fn(n){var e=Mn(n);return"array"===e?n.slice(0):"object"===e?Dn({},n):"date"===e?new Date(n.getTime()):n}function Un(n,e){return!Jn(n,e)}function Jn(n,e){function t(n,e){if(n===e)return!0;var r=Mn(n),i=Mn(e);if(r==i)if("object"==r){var o=Object.keys(n),u=Object.keys(e);if(o.length==u.length&&(o=o.sort(),u=u.sort(),o.join()==u.join())){for(var a=0,c=o.length;a<c;a++)if(!t(n[o[a]],e[o[a]]))return!1;return!0}}else if("array"==r&&n.length==e.length){for(var f=0,l=n.length;f<l;f++)if(!t(n[f],e[f]))return!1;return!0}return!1}return t(n,e)}function In(n,e){a(e)&&(e=e.apply(null,wt.call(arguments,2)));for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];a(r)?n[t]=r.bind(n):n[t]=r}return n}function Rn(n,e,t){function r(n,e){var i=Mn(n),o=Mn(e);if("array"==i&&"array"==o){for(var u=0,a=Math.min(n.length,e.length);u<a;u++){var c=Mn(n[u]),f=Mn(e[u]);t&&"undefined"!=f?n[u]=e[u]:"undefined"==c&&"undefined"!=f?n[u]=e[u]:c==f&&(n[u]=r(n[u],e[u]))}n.length<e.length&&(n=n.concat(e.slice(n.length)))}else if("object"==i&&"object"==o){for(var l in e)if(e.hasOwnProperty(l)){var s=Mn(n[l]),p=Mn(e[l]);t&&"undefined"!=p?n[l]=e[l]:"undefined"==s&&"undefined"!=p?n[l]=e[l]:n[l]=r(n[l],e[l])}}else{if(t&&"undefined"!=o)return e;if("undefined"==i)return e}return n}return r(n,e)}function Hn(e,t,r){e=e||n;var i=3===arguments.length;return de(t.split("."),function(n,t,o){i&&t===o.length-1?(e[n]||(e[n]={}),e=e[n]=r):e=e[n]||(e[n]={})}),e}function Gn(n,e){return Pn(n,"object")&&Pn(e,"object")?ge(e,function(t,r){Pn(n[r],"undefined")&&(n[r]=e[r])}):n=e||n||{},n}function zn(n,e){return Rn(n,e,!0)}function Bn(){if(a(arguments[0]))return arguments[1]?arguments[0].bind(arguments[1]):arguments[0];var n=rn(wt.call(arguments));return function(e,t,r){return n.indexOf(t)!==-1};return e}function Wn(n,t,r){if(r=r||{},t){var i={};for(var o in n)r.own&&!n.hasOwnProperty(o)||t(n[o],o,n)&&(i[o]=n[o]);return i}return e}function Zn(n){return Wn(n,Bn.apply(null,ie(arguments)))}function Yn(n){return Wn(n,Bn.apply(null,ie(arguments)),{own:!0})}function Vn(n){var e=[];return Pn(n,"object")&&ge(n,function(n,t){e.push([t,n])}),e}function Xn(n){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function Kn(n){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(n[t]);return e}function Qn(n){var e=rn(ie(arguments)),t=[];for(var r in n)n.hasOwnProperty(r)&&e.indexOf(r)!==-1&&t.push(n[r]);return t}function ne(n){function t(n){var i=r,o,u=Mn(n);if("array"==u){i=[];for(var a=0,c=n.length;a<c;a++)o=t(n[a]),o===r&&(o=e),i[a]=o}else if("date"==u||n&&n.toISOString)i=n.toISOString();else if("object"==u){i={};for(var f in n)n.hasOwnProperty(f)&&(o=t(n[f]),o!==r&&(i[f]=o))}else"number"!=u&&"string"!=u&&"boolean"!=u||(i=n);return i}var r="NON_TRANSFERABLE";return t(n)}function ee(n){function e(n){var t=Mn(n);if("array"==t)for(var r=0,i=n.length;r<i;r++)n[r]=e(n[r]);else{if("date"==t||n&&n.toISOString)return n.toISOString();if("object"==t)for(var o in n)n.hasOwnProperty(o)&&(n[o]=e(n[o]));else if("string"==t&&Dt.test(n))return moment?moment(n):new Date(n)}return n}return e(n)}function te(n,t){return t?n&&n.length?wt.call(n,0,t):e:n&&n.length?n[0]:e}function re(n,t){return t?n&&n.length?wt.call(n,-t):e:n&&n.length?n[n.length-1]:e}function ie(n,t){return n&&n.length?wt.call(n,t||1):e}function oe(n,t){return n&&n.length?t<0?n[n.length-1+t]:n[t]:e}function ue(n,t,r){return n&&n.length?wt.call(n,t,r):e}function ae(n,e){return xt(e)?e.indexOf(n)!=-1:ie(arguments).indexOf(n)!=-1}function ce(){return!ae.apply(null,arguments)}function fe(n){for(var e=!1,t=ie(arguments),r=0,i=n.length;r<i&&!(e=n.indexOf(t[r])!==-1);r++);return e}function le(n){return ie(arguments).indexOf(n)!==-1}function se(n){for(var e=rn(ie(arguments)),t={},r=0,i=e.length;r<i;r++){var o=e[r];Hn(n,o,Hn(n,o))}return t}function pe(n){return xt(n)?n.length:Object.keys(n).length}function de(n,e,t){var r=!0;if(xt(n)){for(var i=0,o=n.length;i<o;i++)if(e.call(t,n[i],i,n)===!1){r=!1;break}}else{var u=0;for(var a in n)if(e.call(t,n[a],a,u++,n)===!1){r=!1;break}}return r}function he(n,e,t){if(p(n))return[];if(xt(n))return n.map(e,t);if(n.length){for(var r=[],i=0,o=n.length;i<o;i++)r.push(e.call(t,n[i]));return r}if(Pn(n,"object")){var r=[];return ge(n,function(n){r.push(e.call(t,n))}),r}return[]}function ge(n,e,t){var r=!0,i=0;for(var o in n)if(n.hasOwnProperty(o)&&e.call(t,n[o],o,i++,n)===!1){r=!1;break}return r}function ve(){function n(){var e=r.shift();e?e[1](t,function(t,r){o[e[0]]=r,t?i(t,o):n()}):i(null,o)}var e=wt.call(arguments),t=e[2]?e[0]:null,r=e[2]?e[1]:e[0],i=e[2]?e[2]:e[1],o={};n()}function me(){var n=wt.call(arguments),e=n[2]?n[0]:null,t=n[2]?n[1]:n[0],r=n[2]?n[2]:n[1],i=null,o={},u=pe(t)-1;de(t,function(n,t){n(e,function(n,e){n&&(i=i||{},i[t]=n),o[t]=e,u--,u||r(i,o)})})}function ye(n,e){var t;if(Pn(n,"function"))t=d(e)?n.bind(e):n;else if(Pn(n,"object")){var r=Xn(n);t=function(e,t,i){return Jn(Zn(e,r),n)}}else if(Pn(n,"string")){var i=Pn(e,"undefined");t=function(t,r,o){var u=t[n];return i?!!u:u===e}}return t}function _e(n,t,r,i){i=i||{};var o=i.find_all||i.remove_all,u=[],a=[];if(d(n)){var c=ye(t,r);if(c){for(var f=0,l=n.length;f<l;f++){var s=n[f];if(c(s,f,n)&&(u.push(f),a.push(i.index?f:s),!o))break}if(i.remove||i.remove_all)for(var p=0,h=u.length;p<h;p++)n.splice(u[p],1)}return o?a:i.index&&a[0]===e?-1:a[0]}return o?[]:i.index?-1:e}function be(n,e,t){return _e(n,e,t,{find_all:!0}).length}function xe(n,e,t){return _e(n,e,t,{find:!0})!==-1}function we(n,e,t){return _e(n,e,t,{find_all:!0}).length!==n.length}function ke(n,e,t){return 0===_e(n,e,t,{find_all:!0}).length}function Oe(n,e,t){return _e(n,e,t,{find_all:!0})}function Se(n,e,t){var r=_e(n,e,t,{find_all:!0});return r[r.length-1]}function je(n,e,t){return _e(n,e,t,{index:!0})}function Te(n,e,t){return _e(n,e,t,{index:!0})!==-1}function Ce(n,e,t){return _e(n,e,t,{remove:!0})}function Ne(n,e,t){return _e(n,e,t,{remove_all:!0})}function Ae(n,e,t,r){var i=_e(n,e,t,{index:!0});return i>-1&&(n[i]=r),i!==-1}function De(n,e,t,r){if(Pn(n,"array")&&Pn(r,"object")){var i=_e(n,e,t,{index:!0});return i!==-1?n[i]=r:n.push(r),!0}return!1}function Le(){return Lt++}function Ee(){var n=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:7&t|8).toString(16)});return e}function Me(n){var e=n.ns.split("/").pop().toLowerCase(),t=new Function("return function "+e+"(o){this.construct.call(this,o||{});}")();return t.name=e,t.create=function(n){return new t(n)},t.ns=n.ns,t.properties={},t.mixins=[],t.inits=[],t.setups=[],xt(n.mixin)&&de(n.mixin.reverse(),function(n){an(t.mixins,n.ns),an(t.inits,n.inits),an(t.setups,n.setups),t.properties=zn(t.properties,n.properties),de(n.prototype,function(n,e){t.prototype[e]=n}),de(n,function(n,e){le(e,"ns","create","properties","mixins","inits","setups")||(t[e]=n)})}),de(n,function(e,r){de(n.self,function(n,e){t[e]=Pn(n,"function")?n.bind(t):n}),le(r,"ns","mixin","self")||(Pn(e,"function")?"init"===r?t.inits.push(e):"setup"===r?t.setups.push(e):t.prototype[r]=e:t.properties[r]=zn(t.properties[r],e))}),t.prototype.construct=function(n){var e=qn(t.properties);this.reset=function(){Rn(this,e)},yn(this),this.reset(),this.self=t,Ln(this,n),_n(t.inits,this,n),_n(t.setups,this)},t}function Pe(n,e,t,r){n=n||"";var i=(Et[n]||Et)[e?"asc":t?"desc":"asc"];return{fn:i,key:r}}function $e(n){return Ne(n,{group:!0}),n}function qe(n,e,t){function r(n,e){if(Pn(e,"string")){var t=e,r=Tn(n,t);return{name:t,value:r,id_name:t,id_value:r}}return Pn(e,"object")?{name:e.key,value:Tn(n,e.key),id_name:e.id_key,id_value:Tn(n,e.id_key)}:null}function i(e,t,i){var c=u(e,t),f=o(c,"items");for(n.splice(s++,0,c);n[s]&&r(n[s],t.name).value===t.value;)f.items.push(n[s]),i&&de(i,function(n){n.count++}),f.count++,s++;return f.footer=a(e,t),n.splice(s++,0,f.footer),f}function o(n,e){var t={group_id:n.id,name:n.name,key:n.key,id_name:n.id_name,id_key:n.id_key,header:n,count:0};return t[e]=[],t}function u(n,e){return{id:n,group:!0,group_header:!0,name:e.name,key:e.value,id_name:e.id_name,id_key:e.id_value}}function a(n,e){return{id:n,group:!0,group_footer:!0,name:e.name,key:e.value,id_name:e.id_name,id_key:e.id_value}}n=nn(n),e=nn(e);var c=e.length;if(0!==c){for(var f=[],l=-99,s=0;s<n.length;)if(1===c)f.push(i(l--,r(n[s],e[0])));else{for(var p=[],d=[];p.length<c-1;){var h=r(n[s],e[p.length]),g=u(l--,h);p.push(g),n.splice(s++,0,g),d.push(o(g,"groups"))}for(var v=p[p.length-1],m=d[p.length-1];n[s]&&n[s][v.name]===v.key;)m.groups.push(i(l--,r(n[s],e[c-1]),p));for(;p.length;){p.pop();var y=d.shift();y.footer=a(y.id,{name:y.name,key:y.key,id_name:y.id_name,id_key:y.id_key}),n.splice(s++,0,y.footer),f.push(y)}}return f}}function Fe(n,e){return xt(n)?e?n.reduce(function(n,t){return n+Number(Tn(t,e))},0):n.reduce(function(n,e){return n+Number(e)},0):0}function Ue(n,e,t){return xt(n)?(e&&(n=n.map(function(n){return n[e]})),Math[t].apply(Math,n)):0}function Je(n,e){return Fe(n,e)/(n.length||1)}function Ie(n,e){return Ue(n,e,"max")}function Re(n,e){return Ue(n,e,"min")}function He(n){for(var e="/$^+.()=!|[]{},",t="",r=0,i=n.length;r<i;r++){var o=n[r];if("\\"===o||e.indexOf(o)!==-1)t+="\\"+o;else if("?"==o){for(var u=r;"?"==o;)o=n[++r];t+="(.{"+(r-u)+"})"}else t+="*"==o?"(.*)":o}return"^"+t+"$"}function Ge(n,e){return new RegExp(He(e),"ig").test(n)}function ze(n,e){var t=new RegExp(He(e),"ig").exec(n);return t&&t.slice(1)||[]}function Be(n,t,r){for(var i=[],o=ie(arguments,2),u=0,a=n.length;u<a;u++){o[0]=n[u];var c=t.apply(r,o);c!==e&&i.push(c)}return i}function We(n){return Mt.test(n)}function Ze(n,e,t){if(Pn(n,"string")){if(2===arguments.length)return n.length===e;if(3===arguments.length)return n.length>=e&&n.length<=t}return!1}function Ye(n){n.done=n.done||t,n.bind&&n.done.bind(n.bind),n.headers=n.headers||{},n.method=n.method||"GET",n.data=n.data||null;var e={ok:!1},r=new XMLHttpRequest;if(n.json){n.method="POST";var i=JSON.stringify(n.json,null,"  ");i.length&&(n.data=i),n.headers["Content-Type"]="application/json"}else n.text?(n.method="POST",n.data=n.text,n.headers["Content-Type"]="text/plain"):n.html?(n.method="GET",n.headers["Content-Type"]="text/html",n.data=n.html):n.method=n.method.toUpperCase();r.open(n.method,n.url,!0),Ve(r,n.headers),r.onload=function(){n.timeout_id&&clearTimeout(n.timeout_id),e.status=r.status,e.data=e.text=r.responseText,e.headers=Xe(r),"application/json"===e.headers["content-type"]&&(e.data=JSON.parse(e.text)),r.status>=200&&r.status<400?(e.ok=!0,n.done(null,e)):n.done(e,null)},r.onerror=function(e){n.done(e,null)},n.timeout&&(n.timeout_id=setTimeout(function(){e.timeout=!0,r.abort()},n.timeout)),r.send(n.data)}function Ve(n,e){for(var t in e)n.setRequestHeader(t,e[t])}function Xe(n){var e={};return n.getAllResponseHeaders().split("\r\n").forEach(function(n){var t=n.split(":");t.length>1&&(e[t[0].toLowerCase()]=t.slice(1).join(":").trim())}),e}function Ke(n){return n&&n.attributes?wt.call(n.attributes):[]}function Qe(n,e){if(n&&n.attributes)for(var t=n.attributes,r=0,i=t.length;r<i;r++){var o=n.attributes[r];if(Ge(o.name,e))return o}}function nt(n){if(n){var e=n.nodeType;return e&&(1===e||9===e)}return!1}function et(n){return"string"===Mn(n)?bt(n):nt(n)?n:null}function tt(n,e,t){n.addEventListener(e,t,!1)}function rt(n,e,t){n.removeEventListener(e,t)}function it(n){n.preventDefault(),n.stopPropagation()}function ot(n,e){n.style.display=e||"block"}function ut(n,e){n.style.display=e||""}function at(n,e){n=et(n),n&&n.classList.add(e)}function ct(n,e){n=et(n),n&&n.classList.remove(e)}function ft(n,e){n=et(n),n&&n.classList.contains(e)}function lt(n,e,t){n=et(n),n&&n.style.setProperty(e,t)}function st(n,e){n=et(n),n&&n.style.getPropertyValue(e)}function pt(){var n=document.implementation.createHTMLDocument();return n.body.innerHTML=wt.call(arguments).join(""),n.body.children}function dt(n,e,t){return 2===arguments.length?n.getAttribute(e):void n.setAttribute(e,t)}function ht(n,e,t){var r=t(n);return r?r:n===e?null:ht(n.parentNode,e,t)}function gt(n){"loading"!==document.readyState?n(window,module.require):document.addEventListener("DOMContentLoaded",function(){n(window,module.require)})}function vt(n){n.style.opacity=0;var e=Number(new Date),t=function(){n.style.opacity=Number(n.style.opacity)+(new Date-e)/400,e=Number(new Date),Number(n.style.opacity)<1&&requestAnimationFrame(t)};t()}function mt(n){n.style.opacity=1;var e=Number(new Date),t=function(){n.style.opacity=Number(n.style.opacity)+(new Date+e)/400,e=Number(new Date),Number(n.style.opacity)>0&&requestAnimationFrame(t)};t()}function yt(){var n=1===arguments.length,e=n?document:arguments[0],t=n?arguments[0]:arguments[1],r,i=t.match(jt);return r=i?e.getElementsByClassName(i[1]):e.querySelectorAll(t),wt.call(r)}function _t(){var n=2===arguments.length?[arguments[0]]:[arguments[0],arguments[1]],e=yt.apply(null,n);St.call(e,arguments[arguments.length-1])}function bt(){return yt.apply(null,arguments)[0]}var xt=Array.isArray,wt=Array.prototype.slice,kt=Array.prototype.concat,Ot=Object.prototype.toString,St=Array.prototype.forEach,jt=/^\.([\w\-]+)$/,Tt=["January","February","March","April","May","June","July","August","September","October","November","December"],Ct=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Nt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],At=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Dt=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+/,Lt=Math.round(.001*+new Date),Et=function(){function n(n,e,t){n=nn(n),de(n,function(n,e){n.__idx=e}),e=nn(e);var r=e.length;return n.sort(function(n,t){for(var i=0,o=0;o<r;o++){var u=e[o];if(i=u.fn(Tn(n,u.key),Tn(t,u.key)),0!==i)break}return 0===i?n.__idx>t.__idx?1:-1:i})}function e(n){return function(e,t){var r=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,i=/^\s+|\s+$/g,o=/\s+/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,a=/^0x[0-9a-f]+$/i,c=/^0/,f=function(e){return(n&&(""+e).toLowerCase()||""+e).replace(i,"")},l=f(e)||"",s=f(t)||"",p=l.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=s.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(l.match(a),16)||1!==p.length&&Date.parse(l),g=parseInt(s.match(a),16)||h&&s.match(u)&&Date.parse(s)||null,v=function(n,e){return"undefined"==typeof n?0:(!n.match(c)||1==e)&&parseFloat(n)||n.replace(o," ").replace(i,"")||0},m,y;if(g){if(h<g)return-1;if(h>g)return 1}for(var _=0,b=p.length,x=d.length,w=Math.max(b,x);_<w;_++){if(m=v(p[_],b),y=v(d[_],x),isNaN(m)!==isNaN(y))return isNaN(m)?1:-1;if(typeof m!=typeof y&&(m+="",y+=""),m<y)return-1;if(m>y)return 1}return 0}}return n.asc=function(n,e){return n<e?-1:n>e?1:0},n.desc=function(n,e){return n>e?-1:n<e?1:0},n.number={asc:function(n,e){return n-e},desc:function(n,e){return e-n}},n.string={asc:function(n,e){return n.localeCompare(e)},desc:function(n,e){return e.localeCompare(n)}},n.moment={asc:function(n,e){return n<e?-1:n>e?1:0},desc:function(n,e){return n>e?-1:n<e?1:0}},n.date={asc:function(n,e){return n.getTime()-e.getTime()},desc:function(n,e){return e.getTime()-n.getTime()}},n.empty={last:function(n,e){return n?-1:e?1:0},first:function(n,e){return n?1:e?-1:0}},n.natural=e(),n}(),Mt=/^[a-z0-9]+$/i;n.debug=function(){var n=["%cDEBUG:","color:black;background-color:yellow;"];console.log.apply(console,n.concat(wt.call(arguments)))},n.log=function(){console.log.apply(console,arguments)},n.app={};var Pt={browser_core:browser_core,noop:t,noop_callback:r,escape_re:l,is_value:i,is_number:o,is_function:a,is_string:u,defined:c,undefined:f,random:s,dfault:h,empty:p,not_empty:d,upper:v,lower:g,trim:m,ltrim:y,rtrim:_,split:x,build:k,escape:S,unescape:j,pad:N,lpad:T,rpad:C,starts:A,clean_whitespace:b,lines:w,plural:O,ends:D,between:$,before:L,before_last:E,after:M,after_last:P,title_case:q,repeat:B,replace_all:W,format:V,camel_to:U,to_camel:F,snake_to_camel:I,camel_to_snake:R,snake_to_kebab:J,kebab_to_snake:z,camel_to_kebab:H,kebab_to_camel:G,increase_indent:Z,title_case:q,get_utf8_length:Y,stringify:X,eol:eol,sum:Fe,min:Re,max:Ie,avg:Je,map:he,reduce:K,arg:Q,to_array:nn,flatten:rn,compact:on,now:ln,date:sn,date_time:dn,file_date:pn,get_fn_name:gn,timer:hn,combine:vn,done:mn,bind:yn,invoke:_n,invoke_after:bn,invoke_delay:xn,invoke_next:wn,invoke_when:kn,debounce:On,throttle:Sn,patch:jn,typeof:Mn,is:Pn,is_not:$n,size:pe,each:de,each_own:ge,assign:Dn,assign_own:Ln,assign_if:En,eq:Jn,neq:Un,clone:qn,copy:Fn,merge:Rn,extend:In,override:zn,make:Me,first:te,last:re,rest:ie,at:oe,range:ue,in:ae,not_in:ce,find_predicate:ye,find:_e,any:xe,find_all:Oe,find_last:Se,find_index:je,remove:Ce,remove_all:Ne,pick_predicate:Bn,pick:Zn,pick_own:Yn,pairs:Vn,keys:Xn,values:Kn,pick_values:Qn,sort:Et,get_comparer:Pe,group:qe,ungroup:$e,ns:Hn,options:Gn,id:Le,uuid:Ee,series:ve,parallel:me,get:Tn,take:Cn,has:Nn,set:An,union:en,unique:tn,clear:un,push:an,load:cn,contains:fe,inlist:le,pick_path:se,get_data:ne,set_data:ee,count:be,all:we,none:ke,exists:Te,replace:Ae,upsert:De,build_match:He,match:Ge,get_matches:ze,has_key:fn,select:Be,is_alpha_numeric:We,is_length:Ze,fade_in:vt,fade_out:mt,debug:debug,get_attributes:Ke,get_attribute:Qe,is_element:nt,element:et,on:tt,off:rt,nodefault:it,show:ot,hide:ut,add_class:at,remove_class:ct,html:pt,attr:dt,parents_until:ht,ready:gt,request:Ye,select_all:yt,select_each:_t,select_first:bt};n.define?(n.define.make=Me,n.module.require.cache["qp-utility"]=Pt):n.qp=Pt,define(module,function(n,e,t){var r=e("qp-utility");t({ns:"qp-utility/websocket",websocket:null,secure:!1,auto:!0,url:"",protocols:null,on_error:!1,on_close:!1,on_open:!1,message:!1,json:!1,init:function(n){this.auto&&this.open()},open:function(){if(!this.websocket){var n=this.websocket=new WebSocket((this.secure?"wss://":"ws://")+this.url,this.protocols);this.on_error&&n.addEventListener("error",this.on_error.bind(this)),this.on_close&&n.addEventListener("close",this.on_close.bind(this)),this.protocols&&(this.json=r.contains(this.protocols,"json-message")),n.addEventListener("open",function(e){this.on_open&&this.on_open(e),this.message&&n.addEventListener("message",function(n){var e=n.data;this.json&&(e=JSON.parse(e)),log("MSG_IN",r.stringify(e,!0)),this.message&&this.message(e,n)}.bind(this))}.bind(this))}},send:function(n){this.is_state("OPEN")&&(log("MSG_OUT",r.stringify(n,!0)),this.json&&(n=JSON.stringify(n)),this.websocket.send(n))},close:function(){this.is_state("OPEN")&&(this.websocket.close(),this.websocket=null)},is_state:function(n){return this.websocket&&this.websocket.readyState===this.websocket[n]}})})}(window);