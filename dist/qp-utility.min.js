!function(n,e){function t(){return"\n"}var r=Array.isArray,o=Array.prototype.slice,a=Array.prototype.concat,u=Object.prototype.toString,c=Array.prototype.forEach,l=/^\.([\w\-]+)$/;function s(n){return n}function f(n,e){he(e,null,n)}function d(n){return void 0!==n&&null!==n}function h(n){return"boolean"==typeof n}function p(n){return n-parseFloat(n)>=0}function m(n){return"string"==typeof n}function g(n){return"function"==typeof n}function v(n){return null===n}function y(n){return null!==n}function _(n){return!b(n)}function b(n){return void 0===n}function w(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function k(n,e){return Math.floor(Math.random()*(e-n))+n}function x(n){return!r(n)&&d(n)&&!m(n)&&!g(n)&&n.length}function S(n){return void 0===n||null===n||r(n)&&0===n.length||m(n)&&0===n.length||p(n)&&0===n}function j(n){return!S(n)}function O(n){return!1===n}function C(n,e){return b(n)?e:n}function T(n,e){return h(n)?n:e}function N(n){return S(n)||m(n)&&0===n.replace(/\s/g,"").length}function M(n){return String(n).toLocaleLowerCase()}function A(n){return String(n).toLocaleUpperCase()}function D(n){var e="";if(r(n))for(var t=0,i=n.length;t<i;t++){var o=n[t];0===t?e=o:e+=t===i-1?" & "+o:", "+o}return e}function E(n,t){return n===e||null===n?"":t===e||null===t?String(n).replace(/(^\s+|\s+$)/g,""):(t=w(t),String(n).replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))}function R(n,t){return n===e||null===n?"":t===e||null===t?String(n).replace(/^\s+/,""):String(n).replace(new RegExp("^"+w(t)+"+"),"")}function L(n,t){return n===e||null===n?"":t===e||null===t?String(n).replace(/\s+$/,""):String(n).replace(new RegExp(w(t)+"+$"),"")}function $(n){var t=/\r?\n|\r/g,r=/(^\s+|\s+$)/g;return n===e||null===n?"":String(n).replace(t," ").replace(r,"")}function P(n,e,t){if(Oe(n,"string")&&n.length>0){var r=String(n).split(e);return t&&t.remove_empty&&(r=Yr.compact(r)),r}return[]}function q(n,e){return kn(n).join(e||", ")}function F(n){return String(n).split(/\r\n|\r|\n/g)}function U(){return Nn(Tn(kn(arguments))).join("")}function I(n,e,t,r,i){var o=Ke(n);return o+" "+e+(o>1?r:t)+(" "+i||"")}function J(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function H(n){return String(n).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'")}function B(n,e,t){return K(n,e,t,!1)}function z(n,e,t){return K(n,e,t,!0)}function K(n,t,r,i){if(n===e||null===n)return"";for(b(r)&&(r=t,t=" "),n=String(n);n.length<r;)n=i?n+t:t+n;return n}function G(n,e){return 0===n.lastIndexOf(e,0)}function Y(n,e){return-1!==n.indexOf(e,n.length-e.length)}function Z(n,e){return n.slice(0,n.indexOf(e))}function W(n,e){return n.slice(0,n.lastIndexOf(e))}function V(n,e){var t=n.indexOf(e);return-1===t?n:n.slice(t+e.length)}function X(n,e){return n.slice(n.lastIndexOf(e)+e.length)}function Q(n,e,t){if(t||(t=e),n&&e&&t){var r=n.indexOf(e)+1;return n.slice(r,n.indexOf(t,r))}return n}function nn(n){return n.replace(/\w+/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})}function en(n,e){for(var t="",r=0,i=n.length;r<i;r++){var o=n[r];t+=0===r?o.toUpperCase():o===e?n[++r].toUpperCase():o.toLowerCase()}return t}function tn(n,e){for(var t="",r="",i="",o="",a=0,u=n.length;a<u;a++)i=r,o=(r=n[a]).toLowerCase(),0===a||"."==i||"."==r||r==e||p(r)?t+=o:r==r.toUpperCase()?t+=e+o:t+=o;return t}function rn(n){return fn(n,"_","-")}function on(n){return en(n,"_")}function an(n){return tn(n,"_")}function un(n){return tn(n,"-")}function cn(n){return en(n,"-")}function ln(n){return fn(n,"-","_")}function sn(n,e,t){for(var r=[],i=e;i--;)r.push(n);return r.join(t||"")}function fn(n,t,r){return t=t?w(t):"",n===e||null===n?"":String(n).replace(new RegExp(t,"g"),r||"")}function dn(n,e,t,r){return r=r||{},d(e)?(p(e)&&(t=e,e="  "),p(t)&&t>1&&(e=sn(e,t))):e="  ",n.split("\n").map(function(n,t){return 0===t&&r.ignore_first_line?n:e+n}).join("\n")}function hn(n){var e=0;if(0===n.length)return e;for(var t=0,r=n.length;t<r;t++){var i;e=(e<<5)-e+n.charCodeAt(t),e&=e}return e}function pn(n){var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;return n.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(n,t,r){return t>0&&t+n.length!==r.length&&n.search(e)>-1&&":"!==r.charAt(t-2)&&("-"!==r.charAt(t+n.length)||"-"===r.charAt(t-1))&&r.charAt(t-1).search(/[^\s-]/)<0?n.toLowerCase():n.substr(1).search(/[A-Z]|\../)>-1?n:n.charAt(0).toUpperCase()+n.substr(1)})}function mn(n){for(var e=0,t=0;t<n.length;t++){var r=n.charCodeAt(t);r<=127?e+=1:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,t++):e+=r<65535?3:4}return e}function gn(n,t,r){return Oe(t,"object")?(r=Ee(r,{leave_unmatched:!1}),n.replace(/\{{([A-Za-z0-9_.]+)\}}/g,function(n,i){var o=ye(t,i);return o===e?r.leave_unmatched?n:"":o})):(t=Tn(o.call(arguments,1)),n.replace(/\{{([0-9]+)\}}/g,function(n,r){var i=t[r];return i===e?"":i}))}function vn(n){var e=[];return Oe(n,"object")&&Ze(n,function(n,t){e.push([t,n])}),e}function yn(n,e){return Yr.is(e,"string")&&"json"===e?JSON.stringify(n,null,"  "):(n&&n.toJSON&&(n=n.toJSON()),!0===e?S(n)?"":"{ "+vn(n).map(function(n){var e=n[1],t=je(e);return"function"===t?e=e.name||"fn":"array"===t?e="[ "+e.length+" ]":"string"===t?e.length>79&&(e=e.slice(0,79)+"…"):"object"===t&&(e=S(e)?"{ }":e.id?"{ id: "+e.id+" }":"{ … }"),n[0]+": "+e}).join(", ")+" }":S(n)?"{ }":Ce(n,"object","array")?n:"{ "+vn(n).map(function(n){var e=n[1];return Oe(e,"function")?n[0]+": "+e.name||"fn":Oe(e,"array")?n[0]+": [ "+Ye(e,function(n){return yn(n)}).join(", ")+" ]":Oe(e,"object")?n[0]+": "+yn(e):Oe(e,"string")?(e.length>79?e=e.slice(0,79)+"…":0===e.length&&(e="''"),n[0]+": "+e):n[0]+": "+e}).join(", ")+" }")}function _n(n,e){var t=je(n);return"string"===t?JSON.parse(n||"{}"):"object"===t||"array"===t?JSON.stringify(n||{},null,"  "):n}function bn(n,t,r){return Oe(n,"array")?n.reduce(t,r):e}function wn(n){return o.call(n)}function kn(n){return r(n)?n:"function"==typeof n?[n]:n&&n.length?o.call(n):"string"==typeof n?n.split(""):"number"==typeof n?0===n?[]:new Array(n):n?[n]:[]}function xn(){return o.call(arguments).reduce(function(n,e){return kn(n).concat(kn(e))},[])}function Sn(n,e){var t=[],r=n.length,i=0,o;if(len%e==0)for(o=Math.floor(r/e);i<r;)t.push(n.slice(i,i+=o));else{for(e--,r%(o=Math.floor(r/e))==0&&o--;i<o*e;)t.push(n.slice(i,i+=o));t.push(n.slice(o*e))}return t}function jn(n,e){for(var t=[];n.length;)t.push(n.splice(0,e));return t}function On(n){for(var e=n.length;e;){var t=Math.floor(Math.random()*e--),r=n[e];n[e]=n[t],n[t]=r}return n}function Cn(n,e){var t=[];if(r(n)){e=e||function(n,e){return-1===n.indexOf(e)};for(var i=0,o=n.length;i<o;i++){var a=n[i];e(t,a)&&t.push(a)}}return t}function Tn(){function n(e){return bn(e,function(e,t){return it(t,r)?e.concat(n(t)):e.concat(t)},[])}var e=o.call(arguments);return it(e,r)?n(e):e}function Nn(n){for(var e=-1,t=n?n.length:0,r=[];++e<t;){var i=n[e];i&&r.push(i)}return r}function Mn(n,e,t){n.splice(e,0,t)}function An(n){if(r(n))for(var e=0,t=n.length;e<t;e++)n.pop();else for(var i in n)n.hasOwnProperty(i)&&delete n[i];return n}function Dn(n,t){if(r(t))if(r(n))for(var i=0,o=t.length;i<o;i++)n.push(t[i]);else n=t;else t===e?r(n)||(n=[]):r(n)?n.push(t):n=[t];return n}function En(n){An(n),Ge(Fe(arguments),function(e){Dn(n,e)})}function Rn(n,e){return-1!==Object.keys(n).indexOf(e)}function Ln(n,e,t){if(b(n))return t;if(b(e)||b(n[e]))return t;var r=n[e];return delete n[e],r}function $n(n,e){return b(n)?n={}:b(e)||b(n[e])||delete n[e],n}var Pn=["January","February","March","April","May","June","July","August","September","October","November","December"],qn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Fn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Un=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],In=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+/,Jn=-621355968e5,Hn=2534022144e5;function Bn(n,e){return"utc"===e?n.toUTCString():"iso"===e?n.toISOString():"int"===e?n.getTime():"string"===e?String(n.getTime()):"time"===e?[B(n.getUTCHours().toString(),"0",2),B(n.getUTCMinutes().toString(),"0",2),B(n.getUTCSeconds().toString(),"0",2)].join(":"):n;var t,r,i}function zn(n){var e=new Date;return Oe(n,"string")?Bn(e,n):(e.offset=function(n,t,r){"day"===t||"days"===t?n=24*n*60*60*1e3:"hour"!==t&&"hours"!==t||(n=60*n*60*1e3);var i=new Date(e.getTime()+n);return r?Bn(i,r):i},e)}function Kn(n,e){return Bn(new Date(n),e)}function Gn(n){return Bn(new Date(Jn),n)}function Yn(n){return+n===Jn}function Zn(n){return Bn(new Date(Hn),n)}function Wn(n){return+n===Hn}function Vn(n){return Bn(new Date(Jn),n)}function Xn(n){return+n===Jn}function Qn(n){function e(n,e){return n+" "+e+(n<=1?"":"s")}var t,r=Math.floor((new Date-n)/1e3);return(t=Math.floor(r/31536e3))>=1?e(t,"year"):(t=Math.floor(r/2592e3))>=1?e(t,"month"):(t=Math.floor(r/86400))>=1?e(t,"day"):(t=Math.floor(r/3600))>=1?e(t,"hour"):(t=Math.floor(r/60))>=1?e(t,"minute"):e(Math.floor(r),"second")}function ne(){var n=zn(),e,t,r;return[n.getUTCFullYear().toString(),B(n.getUTCMonth().toString(),"0",2),B(n.getUTCDate().toString(),"0",2)].join("")}function ee(n){return n="string"==typeof n?new Date(n):n,{format:function(e){return"utc"===e?n.toUTCString():"month day, year"===e?qn[n.getMonth()]+" "+n.getDate()+", "+n.getFullYear():n}}}function te(){var n=new Date,e=n;return{elapsed:function(){return((new Date-n)/1e3).toFixed(2)},lap:function(){var n=e;return(((e=new Date)-n)/1e3).toFixed(2)}}}function re(n){if(n.name)return n.name;var e,t=/function\s([^(]{1,})\(/.exec(n.toString());return t&&t.length>1?t[1].trim():""}function ie(n){if(Oe(n,"function")){var e=Yr.rest(arguments);return n.apply(null,e)}}function oe(){var n=o.call(arguments);return function(){for(var e=0,t=n.length;e<t;e++)n[e].apply(null,arguments)}}function ae(){var n=o.call(arguments),e=je(n[0]);return"object"===e&&n[0].done?he(n[0].done.bind(n[0].context||n[0].bind),n[1],n[2]):"function"===e&&he(n[0].bind(n[1]),n[2],n[3]),null}function ue(n){if(1===arguments.length||2===arguments.length&&Oe(arguments[1],"object")){var e=arguments[1]||n;Ge(n,function(t,r){Oe(t,"function")&&(n[r]=t.bind(e))})}else Ge(Fe(arguments),function(e,t){n[t]=e.bind(n)});return n}function ce(){var n=null;return Ge(o.call(arguments),function(e){n=e(n)}),n}function le(n){var e=o.call(arguments,1);return function(){return n.apply(this,e.concat(o.call(arguments)))}}function se(n,t){var r=je(arguments[0]);if(n&&"function"===r)return n.apply(t,o.call(arguments,2));if("array"===r){var i=o.call(arguments,2);return Ye(n,function(n){return n.apply(t,i)})}return e}function fe(n,e,t){var r=0;return function(){++r===e&&n.apply(t,arguments)}}function de(n,e){var t=Fe(arguments,2),r=setTimeout(function(){clearTimeout(r),e.apply(null,t)},n);return r}function he(e){var t=Fe(arguments);if(n.process&&n.process.nextTick)process.nextTick(e.bind(null,t));else var r=setTimeout(function(){clearTimeout(r),e.apply(null,t)},0)}function pe(n,e,t){!function r(){de(t||500,function(){e()?n():r()})}()}function me(n,e,t,r){var i;return function(){var a=r||this,u=o.call(arguments),c=function(){i=clearTimeout(i),!t&&n&&n.apply(a,u)},l=t&&!i;i||(i=setTimeout(c,e)),l&&n&&n.apply(a,u)}}function ge(n,e,t){var r,i;return e=e||250,function(){var a=t||this,u=+new Date,c=o.call(arguments);r&&u<r+e?(clearTimeout(i),i=setTimeout(function(){r=u,n.apply(a,c)},e)):(r=u,n.apply(a,c))}}function ve(n,e,t){var r=n[e];n[e]=t.bind(n,r.bind(n))}function ye(n,t,r){var i=r,o=t.split(".");if(Oe(n,"object"))for(var a=n,u=0,c=o.length;u<c&&(null!==(a=a[o[u]])&&a!==e);u++)u==c-1&&(i=a);return i}function _e(n,t,r){var i=r,o=t.split(".");if(Oe(n,"object"))for(var a=n,u,c=0,l=o.length;c<l&&(u=a,(a=a[o[c]])!==e);c++)c==l-1&&(delete u[o[c]],i=a);return i}function be(n,t){var r=!1,i=t.split(".");if(Oe(n,"object"))for(var o=n,a=0,u=i.length;a<u;a++){var c=i[a];if(!o.hasOwnProperty(c))break;if((o=o[c])===e)break;a==u-1&&(r=!0)}return r}function we(n,t,r){for(var i=n,o=t.split("."),a=0,u=o.length;a<u;a++){if(a==u-1){i[o[a]]=r;break}i=i[o[a]]===e?i[o[a]]={}:i[o[a]]}return n}function ke(){var n=Pe(arguments)||{};return Ge(Fe(arguments),function(e){Ge(e,function(e,t){void 0!==e&&(n[t]=e)})}),n}function xe(){var n=Pe(arguments)||{};return Ge(Fe(arguments),function(e){Ze(e,function(e,t){void 0!==e&&n.hasOwnProperty(t)&&(n[t]=e)})}),n}function Se(){var n=Pe(arguments);return Ge(Fe(arguments),function(e){var t=Object.keys(n);Ge(e,function(e,r){void 0!==e&&-1==t.indexOf(r)&&(n[r]=e)})}),n}function je(n,e){var t=M(u.call(n).slice(8,-1));return e&&"object"===t?n.constructor?"object"===(t=M(n.constructor.type||n.constructor.name)||"object")?"pojo":t:"pojo":t}function Oe(n,e){var t=je(n);if(arguments.length>2){var r=Fe(arguments);return-1!=r.indexOf(t)||"object"===t&&r.indexOf(je(n,!0))}return t===e||"object"===t&&je(n,!0)===M(e)}function Ce(){return!Oe.apply(null,arguments)}function Te(n){function e(n){var t,r=je(n);if("array"==r){t=[];for(var i=0,o=n.length;i<o;i++)t[i]=e(n[i])}else if("object"==r)for(var a in t={},n)n.hasOwnProperty(a)&&(t[a]=e(n[a]));else t="date"==r?new Date(n.getTime()):n;return t}return e(n)}function Ne(n){var e=je(n);return"array"===e?n.slice(0):"object"===e?ke({},n):"date"===e?new Date(n.getTime()):n}function Me(n,e){return!Ae(n,e)}function Ae(n,e){function t(n,e){if(n===e)return!0;var r=je(n),i;if(r==je(e))if("object"==r){var o=Object.keys(n),a=Object.keys(e);if(o.length==a.length&&(o=o.sort(),a=a.sort(),o.join()==a.join())){for(var u=0,c=o.length;u<c;u++)if(!t(n[o[u]],e[o[u]]))return!1;return!0}}else if("array"==r&&n.length==e.length){for(var l=0,s=n.length;l<s;l++)if(!t(n[l],e[l]))return!1;return!0}return!1}return t(n,e)}function De(n,e,t){function r(n,e){var i=je(n),o=je(e);if("array"==i&&"array"==o){for(var a=0,u=Math.min(n.length,e.length);a<u;a++){var c=je(n[a]),l=je(e[a]);t&&"undefined"!=l?n[a]=e[a]:"undefined"==c&&"undefined"!=l?n[a]=e[a]:c==l&&(n[a]=r(n[a],e[a]))}n.length<e.length&&(n=n.concat(e.slice(n.length)))}else if("object"==i&&"object"==o){for(var s in e)if(e.hasOwnProperty(s)){var f=je(n[s]),d=je(e[s]);n[s]=t&&"undefined"!=d?e[s]:"undefined"==f&&"undefined"!=d?e[s]:r(n[s],e[s])}}else{if(t&&"undefined"!=o)return e;if("undefined"==i)return e}return n}return r(n,e)}function Ee(n,e){return Oe(n,"object")&&Oe(e,"object")?Ze(e,function(t,r){Oe(n[r],"undefined")&&(n[r]=e[r])}):n=e||n||{},n}function Re(n,e){return De(n,e,!0)}function Le(n){var t="NON_TRANSFERABLE";function r(n){var i=t,o,a=je(n);if("array"==a){i=[];for(var u=0,c=n.length;u<c;u++)(o=r(n[u]))===t&&(o=e),i[u]=o}else if("date"==a||n&&n.toISOString)i=n.toISOString();else if("object"==a)for(var l in i={},n)n.hasOwnProperty(l)&&(o=r(n[l]))!==t&&(i[l]=o);else"number"!=a&&"string"!=a&&"boolean"!=a||(i=n);return i}return r(n)}function $e(n){function e(n){var t=je(n);if("array"==t)for(var r=0,i=n.length;r<i;r++)n[r]=e(n[r]);else if("object"==t)for(var o in n)n.hasOwnProperty(o)&&(n[o]=e(n[o]));else if("string"==t&&In.test(n))return moment?moment(n):new Date(n);return n}return e(n)}function Pe(n,t){return t?n&&n.length?o.call(n,0,t):e:n&&n.length?n[0]:e}function qe(n,t){return t?n&&n.length?o.call(n,-t):e:n&&n.length?n[n.length-1]:e}function Fe(n,t){return n&&n.length?o.call(n,t||1):e}function Ue(n,t){return n&&n.length?t<0?n[n.length-1+t]:n[t]:e}function Ie(n,t,r){return n&&n.length?o.call(n,t,r):e}function Je(n,e){return r(e)?-1!=e.indexOf(n):-1!=Fe(arguments).indexOf(n)}function He(){return!Je.apply(null,arguments)}function Be(n){for(var e=!1,t=Fe(arguments),r=0,i=t.length;r<i&&!(e=-1!==n.indexOf(t[r]));r++);return e}function ze(n){return-1!==Fe(arguments).indexOf(n)}function Ke(n){return S(n)?0:r(n)?n.length:Object.keys(n).length}function Ge(n,e,t){var i=!0;if(r(n)){for(var o=0,a=n.length,u=n.length-1;o<a;o++)if(!1===e.call(t,n[o],o,u,n)){i=!1;break}}else{var c=0;for(var l in n)if(!1===e.call(t,n[l],l,c++,n)){i=!1;break}}return i}function Ye(n,e,t){if(S(n))return[];if(r(n)||n.length){for(var i=[],o=0,a=n.length,u=n.length-1;o<a;o++)i.push(e.call(t,n[o],o,u,n));return i}if(Oe(n,"object")){var c=[];return Ze(n,function(n,r,i,o){c.push(e.call(t,n,r,i,o))}),c}return[]}function Ze(n,e,t){var r=!0,i=0;for(var o in n)if(n.hasOwnProperty(o)&&!1===e.call(t,n[o],o,i++,n)){r=!1;break}return r}function We(n,e,t){n=[].concat(n);var r=[],i=function(){n.length?e(n.shift(),function(n,e){if(r.push(e),n)return t(n,r);i()}):t(null,r)};i()}function Ve(n,e,t){var r=o.call(arguments);t=r.pop(),e=r.pop(),n=r.pop()||{};var i={};e=Qe(e);var a=function(){var r=e.shift();r?r.fn(n,function(n,e){i[r.name]=e,n?t(n,i):a()}):t(null,i)};a()}function Xe(n,e,t){var r=o.call(arguments);t=r.pop(),e=r.pop(),n=r.pop()||{};var i={},a=(e=Qe(e)).length;Ge(e,function(e){e.fn(n,function(n,r){i[e.name]=r,n?t(n,i):--a||t(null,i)})})}function Qe(n){return Oe(n,"array")?Oe(n[0],"function")?Yr.map(n,function(n,e){return{name:e,fn:n}}):n:Oe(n,"object")?Ye(n,function(n,e){return{name:e,fn:n}}):void 0}function nt(n,e){var t={};if(Oe(n,"object"))if(Oe(e,"array"))Ge(e,function(e){n.hasOwnProperty(e)&&(t[e]=n[e])});else if(Oe(e,"function"))Ze(n,function(n,r){e(n,r,i)&&(t[r]=n)});else if(Oe(e,"string"))return nt(n,Fe(arguments));return t}function et(n,e){var t;if(Oe(n,"function"))t=j(e)?n.bind(e):n;else if(Oe(n,"object")){var r=Object.keys(n);t=function(e,t,i){return Ae(nt(e,r),n)}}else if(Oe(n,"string")){var i=Oe(e,"undefined"),o=-1!==n.indexOf(".");t=function(t,r,a){var u=o?ye(t,n):t[n];return i?!!u:u===e}}return t}function tt(n,t,r,i){var o=(i=i||{}).find_all||i.remove_all,a=[],u=[];if(j(n)){var c=et(t,r);if(c){for(var l=0,s=n.length;l<s;l++){var f=n[l];if(c(f,l,n)&&(a.push(l),u.push(i.index?l:f),!o))break}if(i.remove||i.remove_all)for(;a.length;)n.splice(a.pop(),1)}return o?u:i.index&&u[0]===e?-1:u[0]}return o?[]:i.index?-1:e}function rt(n,e,t){return tt(n,e,t,{find_all:!0}).length}function it(n,e,t){return-1!==tt(n,e,t,{index:!0})}function ot(n,e,t){return(n=kn(n)).length>0&&tt(n,e,t,{find_all:!0}).length===n.length}function at(n,e,t){return 0===tt(n,e,t,{find_all:!0}).length}function ut(n,e,t){return tt(n,e,t,{find_all:!0})}function ct(n,e,t){var r=tt(n,e,t,{find_all:!0});return r[r.length-1]}function lt(n,e,t){var r=tt(n,e,t,{find_all:!0,index:!0});return r[r.length-1]}function st(n,e,t){return tt(n,e,t,{index:!0})}function ft(n,e,t){return-1!==tt(n,e,t,{index:!0})}function dt(n,e,t){return tt(n,e,t,{remove:!0})}function ht(n,e,t){return tt(n,e,t,{remove_all:!0})}function pt(n,e,t,r){var i=tt(n,e,t,{index:!0});return i>-1&&(n[i]=r),-1!==i}function mt(n){if(Oe(n,"array")){var e=Yr.arg(arguments),t,r,i;if(2===e.length&&Oe(e[1],"object")?t={id:(i=e[1]).id}:3===e.length?(t=e[1],i=e[2]):4===e.length&&(t=e[1],r=e[2],i=e[3]),Oe(i,"object")){var o=tt(n,t,r,{index:!0});if(-1===o)n.push(i);else{var a=n[o];Ze(i,function(n,e){a.hasOwnProperty(e)&&a[e]!==n&&(a[e]=n)})}return!0}}return!1}var gt=Math.round(.001*+new Date);function vt(){return gt++}function yt(){var n=(new Date).getTime(),e;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:7&t|8).toString(16)})}function _t(n,e){var t=e.ns.split("/").pop().toLowerCase(),i=function(n){this.construct.call(this,n||{})};return i.name=i.type=t,i.create=function(n){return new i(n)},i.ns=e.ns,i.properties={},i.mixins=[],i.inits=[],i.setups=[],r(e.mixin)&&Ge(e.mixin.reverse(),function(n){Dn(i.mixins,n.ns),Dn(i.inits,n.inits),Dn(i.setups,n.setups),i.properties=Re(i.properties,n.properties),Ge(n.prototype,function(n,e){i.prototype[e]=n}),Ge(n,function(n,e){ze(e,"ns","create","properties","mixins","inits","setups","type")||(i[e]=n)})}),Ge(e.self,function(n,e){i[e]=Oe(n,"function")?n.bind(i):n}),Ge(e,function(n,e){ze(e,"ns","mixin","self")||(Oe(n,"function")?"init"===e?i.inits.push(n):"setup"===e?i.setups.push(n):i.prototype[e]=n:i.properties[e]=Re(i.properties[e],n))}),i.prototype.construct=function(n){var e=Te(i.properties);this.reset=function(){De(this,e)},ue(this),this.reset(),this.self=i,Ze(n,function(n,e){_(n)&&!g(this[e])&&this.hasOwnProperty(e)&&(this[e]=n)},this),se(i.inits,this,n),se(i.setups,this)},n(i.ns,i)}function bt(n){var e=o.call(arguments,1),t;Oe(e[0],"string")&&(t=e.shift());for(var r=e.shift(),i=e.length,a=0;i>=0;i--)for(var u in e[i])e[i].hasOwnProperty(u)&&(r[u]=e[i][u]);if(r.ns?t=r.ns:t&&(r.ns=t),r){for(var c in r)"function"==typeof r[c]&&r.hasOwnProperty(c)&&(r[c]=r[c].bind(r));return r.init&&r.init(),n(t,r)}}var wt=function(){function n(n,e,t){Ge(n=kn(n),function(n,e){n.__idx=e});var r=(e=kn(e)).length;return n.sort(function(n,t){for(var i=0,o=0;o<r;o++){var a=e[o];if(0!==(i=Oe(a,"function")?a(n,t):Oe(a.key,"function")?a.fn(a.key(n),a.key(t)):a.fn(ye(n,a.key),ye(t,a.key))))break}return 0===i?n.__idx>t.__idx?1:-1:i})}function e(n){return function(e,t){var r=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,i=/^\s+|\s+$/g,o=/\s+/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,l=function(e){return(n&&(""+e).toLowerCase()||""+e).replace(i,"")},s=l(e)||"",f=l(t)||"",d=s.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=f.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(s.match(u),16)||1!==d.length&&Date.parse(s),m=parseInt(f.match(u),16)||p&&f.match(a)&&Date.parse(f)||null,g=function(n,e){return void 0===n?0:(!n.match(c)||1==e)&&parseFloat(n)||n.replace(o," ").replace(i,"")||0},v,y;if(m){if(p<m)return-1;if(p>m)return 1}for(var _=0,b=d.length,w=h.length,k=Math.max(b,w);_<k;_++){if(v=g(d[_],b),y=g(h[_],w),isNaN(v)!==isNaN(y))return isNaN(v)?1:-1;if(typeof v!=typeof y&&(v+="",y+=""),v<y)return-1;if(v>y)return 1}return 0}}return n.asc=function(n,e){return n<e?-1:n>e?1:0},n.desc=function(n,e){return n>e?-1:n<e?1:0},n.number={asc:function(n,e){return n-e},desc:function(n,e){return e-n}},n.string={asc:function(n,e){return n.localeCompare(e)},desc:function(n,e){return e.localeCompare(n)}},n.moment={asc:function(n,e){return n<e?-1:n>e?1:0},desc:function(n,e){return n>e?-1:n<e?1:0}},n.date={asc:function(n,e){return n.getTime()-e.getTime()},desc:function(n,e){return e.getTime()-n.getTime()}},n.empty={last:function(n,e){return n?-1:e?1:0},first:function(n,e){return n?1:e?-1:0}},n.natural=e(),n}();function kt(n,e,t,r){var i;return{fn:(wt[n=n||""]||wt)[e?"asc":t?"desc":"asc"],key:r}}function xt(n){return ht(n,{group:!0}),n}function St(n,e,t){n=kn(n);var r=(e=kn(e)).length;if(0!==r){for(var i=[],o=-99,a=0;a<n.length;)if(1===r)i.push(m(o--,p(n[a],e[0])));else{for(var u=[],c=[];u.length<r-1;){var l,s=v(o--,p(n[a],e[u.length]));u.push(s),n.splice(a++,0,s),c.push(g(s,"groups"))}for(var f=u[u.length-1],d=c[u.length-1];n[a]&&n[a][f.name]===f.key;)d.groups.push(m(o--,p(n[a],e[r-1]),u));for(;u.length;){u.pop();var h=c.shift();h.footer=y(h.id,{name:h.name,key:h.key,id_name:h.id_name,id_key:h.id_key}),n.splice(a++,0,h.footer),i.push(h)}}return i}function p(n,e){if(Oe(e,"string")){var t=e,r=ye(n,t);return{name:t,value:r,id_name:t,id_value:r}}return Oe(e,"object")?{name:e.key,value:ye(n,e.key),id_name:e.id_key,id_value:ye(n,e.id_key)}:null}function m(e,t,r){var i=v(e,t),o=g(i,"items");for(n.splice(a++,0,i);n[a]&&p(n[a],t.name).value===t.value;)o.items.push(n[a]),r&&Ge(r,function(n){n.count++}),o.count++,a++;return o.footer=y(e,t),n.splice(a++,0,o.footer),o}function g(n,e){var t={group_id:n.id,name:n.name,key:n.key,id_name:n.id_name,id_key:n.id_key,header:n,count:0};return t[e]=[],t}function v(n,e){return{id:n,group:!0,group_header:!0,name:e.name,key:e.value,id_name:e.id_name,id_key:e.id_value}}function y(n,e){return{id:n,group:!0,group_footer:!0,name:e.name,key:e.value,id_name:e.id_name,id_key:e.id_value}}}function jt(n,e){return r(n)?e?n.reduce(function(n,t){return n+Number(ye(t,e))},0):n.reduce(function(n,e){return n+Number(e)},0):0}function Ot(n,e,t){return r(n)?(e&&(n=n.map(function(n){return n[e]})),Math[t].apply(Math,n)):0}function Ct(n,e){return jt(n,e)/(n.length||1)}function Tt(n,e){return Ot(n,e,"max")}function Nt(n,e){return Ot(n,e,"min")}function Mt(n,e){return Number(Math.round(n+"e"+e)+"e-"+e)}function At(n,e){return Number(sn("9",n)+"."+sn("9",e))}function Dt(n,e){var t=Math.pow(10,e);return~~(n*t)/t}function Et(n,e,t){return Math.min(Math.max(n,e),t)}var Rt=[{id:1,code:"USD",name:"US Dollar",unit:"dollar",symbol:"$",decimals:2,html:"&#0024;"},{id:2,code:"EUR",name:"Euro",unit:"euro",symbol:"€",decimals:2,html:"&#20AC;"},{id:3,code:"JPY",name:"Japanese Yen",unit:"yen",symbol:"¥",decimals:0,html:"&#00A5;"},{id:4,code:"GBP",name:"Pound Sterling",unit:"pound",symbol:"£",decimals:2,html:"&#00A3;"},{id:5,code:"AUD",name:"Australian Dollar",unit:"dollar",symbol:"$",decimals:2,html:"&#0024;"},{id:6,code:"CAD",name:"Canadian Dollar",unit:"dollar",symbol:"$",decimals:2,html:"&#0024;"},{id:7,code:"CHF",name:"Swiss Franc",unit:"franc",symbol:"Fr",decimals:2,html:"&#0070;&#0114;"},{id:8,code:"CNY",name:"Chineese Yuan",unit:"yuan",symbol:"¥",decimals:2,html:"&#00A5;"},{id:9,code:"SEK",name:"Swedish Krona",unit:"krona",symbol:"kr",decimals:2,html:"&#0107;&#0114;"},{id:10,code:"NZD",name:"New Zealand Dollar",unit:"dollar",symbol:"$",decimals:2,html:"&#0024;"},{id:11,code:"MXN",name:"Mexican Peso",unit:"peso",symbol:"$",decimals:2,html:"&#20B1;"},{id:12,code:"SGD",name:"Singapore Dollar",unit:"dollar",symbol:"$",decimals:2,html:"&#0024;"},{id:13,code:"HKD",name:"Hong Kong Dollar",unit:"dollar",symbol:"$",decimals:2,html:"&#0024;"},{id:14,code:"NOK",name:"Norwegian Krone",unit:"krone",symbol:"kr",decimals:2,html:"&#0107;&#0114;"},{id:15,code:"KRW",name:"South Korean Won",unit:"won",symbol:"₩",decimals:0,html:"&#20A9;"},{id:16,code:"TRY",name:"Turkish Lira",unit:"lira",symbol:"₺",decimals:2,html:"&#20BA;"},{id:17,code:"RUB",name:"Russian Ruble",unit:"ruble",symbol:"₽",decimals:2,html:"&#20BD;"},{id:18,code:"INR",name:"Indian Rupee",unit:"rupee",symbol:"₹",decimals:2,html:"&#20B9;"},{id:19,code:"BRL",name:"Brazilian Real",unit:"real",symbol:"R$",decimals:2,html:"&#0024;"},{id:20,code:"ZAR",name:"South African Rand",unit:"rand",symbol:"R",decimals:2,html:"&#0082;"},{id:21,code:"THB",name:"Thai Baht",unit:"baht",symbol:"฿",decimals:2,html:"&#0E3F;"}],Lt={};function $t(){return Te(Rt)}function Pt(n){return Lt[n]?Lt[n]:null}function qt(n,e){e=e||0;var t=Math.pow(10,e),r=+(e?n*t:n).toFixed(8),i=Math.floor(r),o=r-i,a=1e-8,u=o>.5-a&&o<.5+a?i%2==0?i:i+1:Math.round(r);return e?u/t:u}function Ft(n){var e=String(n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function Ut(n,e){return n instanceof It?n.clone():new It(n,e)}function It(n,e){this.input=n,this.precision="number"==typeof e?e:Ft(n),this.pow=Math.pow(10,this.precision),this.int_value=qt(n*this.pow),this.value=this.int_value/this.pow}function Jt(n,e,t){return n instanceof Ht?n.clone():new Ht(n,e,t)}function Ht(n,e,t){if(t=Ee(t,{locale:navigator.language}),this.input=e,this.locale=t.locale,Oe(n,"string")?this.currency=Pt(n):Oe(n,"object")&&(this.currency=n),this.currency&&""!==this.currency.code){if("string"==typeof e){var r=-1!==e.indexOf("-")?"-":"",i=(e=e.replace(/[^0-9.]/g,"")).split(".");e=r+(i[0]||"0")+(this.currency.decimals?"."+(i[1]||"0"):""),e=Number(e),this.int_value=Math.round(e*this.currency.pow)}else this.int_value=qt(e,this.currency.decimals)*this.currency.pow;this.precision=this.currency.decimals,this.value=this.int_value/this.currency.pow,this.display=this.value.toLocaleString(this.locale,{style:"currency",currency:this.currency.code}),this.entry=this.value.toLocaleString(this.locale,{style:"decimal",minimumFractionDigits:this.currency.decimals,maximumFractionDigits:this.currency.decimals}).replace(/[^0-9.]/g,"")}else this.currency={code:"",decimals:2,pow:100},this.precision=0,this.int_value=this.value=0,this.entry=this.display="0.00"}function Bt(n){for(var e="/$^+.()=!|[]{},",t="",r=0,i=n.length;r<i;r++){var o=n[r];if("\\"===o||-1!==e.indexOf(o))t+="\\"+o;else if("?"==o){for(var a=r;"?"==o;)o=n[++r];t+="(.{"+(r-a)+"})"}else t+="*"==o?"(.*)":o}return"^"+t+"$"}function zt(n,e){return new RegExp(Bt(e),"ig").test(n)}function Kt(n,e){var t=new RegExp(Bt(e),"ig").exec(n);return t&&t.slice(1)||[]}function Gt(n,t,i){var o=[];if(r(n))for(var a=Fe(arguments,2),u=0,c=n.length;u<c;u++){a[0]=n[u];var l=t.apply(i,a);l!==e&&Dn(o,l)}return o}Ge(Rt,function(n){n.display=n.code+" - "+n.symbol+" - "+n.name,n.pow=Math.pow(10,n.decimals),Lt[n.code]=n}),It.prototype.toString=function(){return this.value},It.prototype.clone=function(){return new It(this.input,this.precision)},Ht.prototype.toString=function(){return this.display},Ht.prototype.clone=function(){return new Ht(this.currency,this.input,this.locale)},Ht.prototype.add=function(n){var e=n instanceof Ht?n:new Ht(this.currency,n,this.locale);return new Ht(this.currency,(this.int_value+e.int_value)/this.currency.pow,this.locale)},Ht.prototype.subtract=function(n){var e=n instanceof Ht?n:new Ht(this.currency,n,this.locale);return new Ht(this.currency,(this.int_value-e.int_value)/this.currency.pow,this.locale)},Ht.prototype.divide=function(n){var e=n instanceof It?n:new It(n);return new Ht(this.currency,qt(this.value/e.value,this.precision),this.locale)},Ht.prototype.multiply=function(n){var e=n instanceof It?n:new It(n);return new Ht(this.currency,qt(this.value*e.value,this.precision+e.precision),this.locale)};var Yt=/^[a-z0-9]+$/i;function Zt(n,e){return!!Oe(n,"string")&&e.test(n)}function Wt(n){return Yt.test(n)}function Vt(n,e,t){if(Oe(n,"string")){if(2===arguments.length)return n.length===e;if(3===arguments.length)return n.length>=e&&n.length<=t}return!1}function Xt(n,e,t){return{key:n,name:Yr.title_case(t||n),validate:"validate_type",type:e,fn:function(n,e){if(Yr.is_not(n,this.type))return{message:this.name+" is not a "+this.type}}}}function Qt(n,e,t,r){return{key:n,name:Yr.title_case(r||n),validate:"validate_number",min_value:e,max_value:t,fn:function(n,e){return Yr.is_not(n,"number")?{message:this.name+" is not a number"}:n>this.max_value?{message:this.name+" cannot be larger than "+this.max_value}:n<this.min_value?{message:this.name+" cannot be less than "+this.min_value}:void 0}}}function nr(n,e){return{key:n,name:Yr.title_case(e||n),validate:"validate_not_empty",fn:function(n,e){if(Yr.empty(n))return{message:"Please provide a value for "+this.name}}}}function er(n,e,t,r){return{key:n,name:Yr.title_case(r||n),validate:"validate_string",min_length:e,max_length:t,fn:function(n,r){return Yr.is_not(n,"string")?{message:this.name+" is not a text value"}:1===e&&0===n.length?{message:"Please provide a value for "+this.name}:n.length<e?{message:this.name+" must be longer than "+this.min_length+" characters"}:n.length>t?{message:this.name+" cannot be longer than "+this.max_length+" characters"}:void 0}}}function tr(){var n="";if(Oe(arguments[0],"array"))return tr.apply(null,arguments[0]);if(arguments.length>1)n=q(Ye(wn(arguments),function(n){return tr(n)}).sort(wt.string),"|");else{var e=arguments[0];Oe(e,"object")&&(n=q(Ye(keys(e).sort(wt.string),function(n){return n+"="+e[n]}),"&"))}return n}function rr(){var n;if(Oe(arguments[0],"array"))return rr.apply(null,arguments[0]);if(arguments.length>1)return q(n=Ye(wn(arguments),function(n){return rr(n)})," || ");var e=arguments[0];return Oe(e,"object")?(n=Ye(keys(e),function(n){return n+" == "+e[n]})).length>1?"("+q(n," && ")+")":n[0]:""}function ir(){var n=Ye(arguments,function(n){return{filter:n,keys:keys(n)}});return function(e,t,r){return it(n,function(n){return Ae(nt(e,n.keys),n.filter)})}}function or(n){return Oe(arguments[1],"array")?or.apply(null,[n].concat(arguments[1])):2===arguments.length?ut(n,arguments[1]):ut(n,ir.apply(null,Fe(arguments)))}function ar(n,e){return Ze(n,function(t,r){cr(n,r,e),Oe(t,"object")&&ar(t,e)}),n}function ur(n){return Ze(n,function(e,t){lr(n,t),Oe(e,"object")&&ur(e)}),n}function cr(n,e,t){var r=n[e];delete n[e]&&Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return r},set:function(i){var o=r;Yr.is(i,"object")&&ar(i,t),r=i,t.call(n,e,i,o)}})}function lr(n,e){var t=n[e];delete n[e],n[e]=t}function sr(n,e,t){var r=n[e];delete n[e]&&Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return r},set:function(i){var o=r;r=i,t.call(n,e,i,o)}})}function fr(n){n.done=n.done||s,n.headers=n.headers||{},n.method=n.method||"GET",n.data=n.data||null;var e={ok:!1},t=new XMLHttpRequest;if(n.with_credentials&&(t.withCredentials=!0),n.json){n.method="POST";var r=JSON.stringify(n.json,null,"  ");r.length&&(n.data=r),n.headers["Content-Type"]="application/json"}else if(n.text)n.data=n.text,n.headers["Content-Type"]="text/plain";else if(n.html)n.headers["Content-Type"]="text/html",n.data=n.html;else if(n.files){n.method="POST",n.headers["Content-Type"]="multipart/form-data";for(var i=n.data=new FormData,o=0,a=n.files.length;o<a;o++){var u=n.files[o];i.append("file"+o,u,u.name)}}return n.method=A(n.method),n.upload_progress&&(t.upload.onprogress=function(e){e.lengthComputable&&n.upload_progress.call(n.bind,e,e.loaded/e.total*100)}),n.download_progress&&(t.onprogress=function(e){e.lengthComputable&&n.download_progress.call(n.bind,e,e.loaded/e.total*100)}),n.timeout&&(t.timeout=n.timeout,t.ontimeout=function(e){var t=new Error("Request Timed Out");t.timeout=!0,n.on_timeout&&n.on_timeout.call(n.bind,t),n.done.call(n.bind,t,null)}),t.onabort=function(){var e;t.user_cancelled?(e=new Error("Request Cancelled")).cancelled=!0:t.user_timeout?(e=new Error("Request Timeout")).timeout=!0:e=new Error("Request Aborted"),e.abort=!0,n.on_abort&&n.on_abort.call(n.bind,e),n.done.call(n.bind,e,null)},t.onerror=function(e){n.done.call(n.bind,e,null)},t.open(n.method,n.url,!0),dr(t,n.headers),t.onload=function(){n.timeout_id&&clearTimeout(n.timeout_id),e.status=t.status,e.state=t.readyState,e.data=e.text=t.responseText,e.headers=hr(t),e.header=function(n,t){var r=e.headers[n];return 1===arguments.length?r[0]:r&&Be(r,t)},e.header("content-type","application/json")&&(e.data=JSON.parse(e.text)),t.status>=200&&t.status<400?(e.ok=!0,n.done.call(n.bind,null,e)):n.done.call(n.bind,new Error(e.status),e)},t.send(n.data),t}function dr(n,e){for(var t in e)n.setRequestHeader(t,e[t])}function hr(n){var e={};return n.getAllResponseHeaders().split("\r\n").forEach(function(n){if(j($(n))){var t=M(n).split(": "),r=t[1].split("; ");1===r.length?e[t[0]]=[t[1]]:e[t[0]]=r}}),e}function pr(n,e){if(n&&n.attributes){var t=o.call(n.attributes);return Oe(e,"string")?Gt(t,function(n){if(zt(n.name,e))return mr(n)}):Ye(t,mr)}return[]}function mr(n){if(n)return{name:n.nodeName,value:n.nodeValue}}function gr(n,e){(n=xr(n))&&Oe(e,"array")&&Ge(e,le(yr,n))}function vr(n,e){if(n&&n.attributes)return mr(Yr.find(n.attributes,function(n){return zt(n.nodeName,e)}))}function yr(n,e){(n=xr(n))&&e&&n.setAttribute(e.name,e.value)}function _r(n,e){(n=xr(n))&&e&&n.removeAttribute(e.name||e)}function br(n,e){(n=xr(n))&&e&&n.hasAttribute(e.name||e)}function wr(n){if(n){var e=n.nodeType;return _(e)&&(1===e||9===e)}return!1}function kr(n){return!wr(n)}function xr(n,e){var t=arguments.length,r=je(n);if(S(n))return null;if("array"===r)return 1===t?xr(n[0]):xr(n[0],e);if("string"===r&&1===t)return Gr(n);if(wr(n)){if(1===t)return n;if(2===t)return Gr(n,e)}else if(_(n.length))return 1===t?xr(n[0]):xr(n[0],e);return null}function Sr(n,e,t,r){r&&t.bind(r),n.addEventListener(e,t,!1)}function jr(n,e,t){n.removeEventListener(e,t)}function Or(n){n.preventDefault(),n.stopPropagation()}function Cr(n,e){if("auto"===e){var t=Yr.lower(n.nodeName);e=Yr.in(t,"span","a","button","img","textarea","select")?"inline":Yr.in(t,"input")?"inline-block":"block"}n.style.display=e||"block"}function Tr(n,e){n.style.display=e||"none"}function Nr(n){return!!(n=xr(n))&&("none"!==n.style.display&&""!==n.style.display)}function Mr(n){return!Nr(n)}function Ar(n,e){if(n=xr(n)){if(2!==arguments.length)return n.textContent;n.textContent=e}}function Dr(n,e){(n=xr(n))&&(r(e)?Yr.each(e,function(e){n.classList.add(e)}):n.classList.add(e))}function Er(n,e){(n=xr(n))&&(r(e)?Yr.each(e,function(e){n.classList.remove(e)}):n.classList.remove(e))}function Rr(n,e){(n=xr(n))&&n.classList.contains(e)}function Lr(n,e,t){(n=xr(n))&&n.style.setProperty(e,t)}function $r(n,e){(n=xr(n))&&n.style.getPropertyValue(e)}function Pr(n,e,t){if(n=xr(n)){if(2===arguments.length)return n.getAttribute(e);n.setAttribute(e,t)}}function qr(n,e){if(n=xr(n))return!!Pr(n,e)}function Fr(){var n=document.implementation.createHTMLDocument("");return n.body.innerHTML=o.call(arguments).join(""),n.body.children[0]}function Ur(n,e){return Oe(e,"string")&&(e=Fr(e)),(n=xr(n)).parentNode.replaceChild(e,n),e}function Ir(n,e,t){var r=t(n);return r||(n===e?null:Ir(n.parentNode,e,t))}function Jr(n){"loading"!==document.readyState?n(window,module.require):document.addEventListener("DOMContentLoaded",function(){n(window,module.require)})}function Hr(){var n=1===arguments.length;if(!n&&!wr(arguments[0]))return[];var e=n?document:arguments[0],t=n?arguments[0]:arguments[1];return o.call(e.querySelectorAll(t))}function Br(n,e){if(!wr(n))return[];var t=n.id,r,i="#"+(n.id=t||"qp"+vt())+" > ";e=i+(e+"").replace(",",","+i,"g");var a=o.call(n.parentNode.querySelectorAll(e));return t||n.removeAttribute("id"),a}function zr(n,e){return!!(n=xr(n))&&(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function Kr(){var n=2===arguments.length?[arguments[0]]:[arguments[0],arguments[1]],e=Hr.apply(null,n);c.call(e,arguments[arguments.length-1])}function Gr(){return Hr.apply(null,arguments)[0]}n.debug=function(){var n=["%cDEBUG:","color:black;background-color:yellow;"];console.log.apply(console,n.concat(o.call(arguments)))},n.log=function(){console.log.apply(console,arguments)};var Yr={noop:s,noop_callback:f,escape_re:w,is_value:d,is_boolean:h,is_number:p,is_function:g,is_string:m,is_array:r,is_array_like:x,defined:_,undefined:b,random:k,dfault:C,boolean:T,no:S,not:O,is_null:v,not_null:y,empty:S,not_empty:j,empty_or_whitespace:N,upper:A,lower:M,trim:E,items:D,ltrim:R,rtrim:L,split:P,join:q,build:U,escape:J,unescape:H,pad:K,lpad:B,rpad:z,starts:G,clean_whitespace:$,lines:F,plural:I,ends:Y,between:Q,before:Z,before_last:W,after:V,after_last:X,title_case:nn,to_title_case:pn,repeat:sn,replace_all:fn,format:gn,camel_to:tn,to_camel:en,snake_to_camel:on,camel_to_snake:an,snake_to_kebab:rn,kebab_to_snake:ln,camel_to_kebab:un,kebab_to_camel:cn,increase_indent:dn,hashcode:hn,title_case:nn,get_utf8_length:mn,stringify:yn,json:_n,eol:t,sum:jt,min:Nt,max:Tt,avg:Ct,round:Mt,max_number:At,truncate:Dt,clamp:Et,currency:Pt,currency_list:$t,Money:Ht,money:Jt,Decimal:It,decimal:Ut,map:Ye,reduce:bn,arg:wn,to_array:kn,flatten:Tn,compact:Nn,insert_at:Mn,now:zn,date:Kn,date_time:ee,empty_date:Vn,is_empty_date:Xn,bot:Gn,is_bot:Yn,eot:Zn,is_eot:Wn,file_date:ne,get_fn_name:re,timer:te,time_ago:Qn,combine:oe,done:ae,bind:ue,chain:ce,partial:le,invoke:se,invoke_after:fe,invoke_delay:de,invoke_next:he,invoke_when:pe,debounce:me,throttle:ge,patch:ve,call:ie,typeof:je,is:Oe,is_not:Ce,size:Ke,each:Ge,each_own:Ze,assign:ke,assign_own:xe,assign_if:Se,eq:Ae,neq:Me,clone:Te,copy:Ne,merge:De,override:Re,make:_t,module:bt,first:Pe,last:qe,rest:Fe,at:Ue,range:Ie,in:Je,not_in:He,find_predicate:et,find:tt,any:it,find_all:ut,find_last:ct,find_last_index:lt,find_index:st,remove:dt,remove_all:ht,sort:wt,get_comparer:kt,group:St,ungroup:xt,options:Ee,id:vt,uuid:yt,get:ye,take:_e,has:be,set:we,each_series:We,series:Ve,parallel:Xe,pick:nt,union:xn,chunk:Sn,segment:jn,shuffle:On,unique:Cn,clear:An,push:Dn,load:En,contains:Be,inlist:ze,get_data:Le,set_data:$e,count:rt,all:ot,none:at,exists:ft,replace:pt,upsert:mt,build_match:Bt,match:zt,get_matches:Kt,has_key:Rn,delete_key:Ln,delete:$n,select:Gt,is_valid:Zt,is_alpha_numeric:Wt,is_length:Vt,validate_type:Xt,validate_number:Qt,validate_not_empty:nr,validate_string:er,filter_key:tr,filter_display:rr,filter_predicate:ir,filter:or,define_property:sr,watch:ar,unwatch:ur,watch_property:cr,unwatch_property:lr,debug:debug,get_attributes:pr,set_attributes:gr,get_attribute:vr,set_attribute:yr,has_attribute:br,remove_attribute:_r,is_element:wr,not_element:kr,element:xr,on:Sr,off:jr,nodefault:Or,show:Cr,hide:Tr,visible:Nr,hidden:Mr,text:Ar,add_class:Dr,remove_class:Er,has_class:Rr,html:Fr,swap:Ur,set_style:Lr,get_style:$r,attr:Pr,has_attr:qr,parents_until:Ir,ready:Jr,select_all:Hr,select_children:Br,matches:zr,select_each:Kr,select_first:Gr,request:fr};n.define?(n.define.make=_t,n.module.require.cache["qp-utility"]=Yr):n.qp=Yr,n.debug=function(){console.log.apply(console,["%cDEBUG:","color:black;background-color:yellow;"].concat(o.call(arguments)))},n.global=n,define(module,function(n,e){var t=e("qp-utility");t.make(n,{ns:"qp-utility/websocket",websocket:null,url:"",auto:!0,secure:!1,protocols:null,json:!1,retry_id:0,retry_interval:5e3,retry_count:0,retry_max:1/0,on_error:!1,on_close:!1,on_open:!1,on_data:!1,on_reconnect:!1,on_reconnect_failed:!1,init:function(n){this.protocols&&(this.json=t.contains(this.protocols,"json-message")),this.auto&&this.open()},open:function(){this.websocket||this.connect()},connect:function(){this.websocket&&this.websocket.close(),this.websocket=new WebSocket((this.secure?"wss://":"ws://")+this.url,this.protocols),this.websocket.addEventListener("error",this.error_handler.bind(this)),this.websocket.addEventListener("close",this.close_handler.bind(this)),this.websocket.addEventListener("open",function(n){this.retry_count=0,clearTimeout(this.rety_id),log("CONNECT",this.url),this.on_open&&this.on_open(this,n),this.on_data&&this.websocket.addEventListener("message",function(n){var e=n.data;this.json&&(e=JSON.parse(e)),log("MSG_IN",t.stringify(e,!0)),this.on_data&&this.on_data(e,this,n)}.bind(this))}.bind(this))},reconnect:function(){this.retry_count++<this.retry_max?this.retry_id=setTimeout(function(){log("RECONNECT",this.url),this.on_reconnect&&this.on_reconnect(this),this.connect()}.bind(this),this.retry_interval):this.on_reconnect_failed&&this.on_reconnect_failed(this)},retry:function(){this.retry_count=0,this.reconnect()},error_handler:function(n){this.on_error&&this.on_error(this,n),this.close(),this.auto&&n&&("ECONNREFUSED"===n.code||"ERR_CONNECTION_REFUSED"===n.code)&&this.reconnect()},close_handler:function(n){this.auto&&n&&(1005===n.code||1006===n.code)&&this.reconnect(),this.on_close&&this.on_close(this,n)},send:function(n){this.is_state("OPEN")&&(log("MSG_OUT",t.stringify(n,!0)),this.json&&(n=JSON.stringify(n)),this.websocket.send(n))},close:function(){this.is_state("OPEN")&&(this.websocket.close(),this.websocket=null)},is_state:function(n){return this.websocket&&this.websocket.readyState===this.websocket[n]}})}),define(module,function(n,e){var t=e("qp-utility");t.make(n,{ns:"qp-utility/store",self:{get:function(){var n=t.arg(arguments).join("."),e=window.localStorage.getItem(n);if(t.defined(e))return JSON.parse(e)},set:function(){var n=t.arg(arguments),e=n.pop();if(t.defined(e)){var r=n.join(".");return window.localStorage.setItem(r,JSON.stringify(e)),e}},remove:function(){var n=t.arg(arguments).join(".");window.localStorage.removeItem(n)}},root:null,store:null,key:"qp",ctx:"",init:function(n){this.root=this.self,this.store=window.localStorage},get_key:function(n){return this.key+(this.ctx?"."+this.ctx:"")+(n?"."+n:"")},set_context:function(n){this.ctx=n||""},size:function(){var n=0,e=this.get_key();return t.each_own(this.store,function(r,i){t.starts(i,e)&&(n+=t.get_utf8_length(r)/1e3)}),n},data:function(n){var e={},r=this.get_key(),i=r.length;return t.each_own(this.store,function(o,a){if(t.starts(a,r)){var u=JSON.parse(o);t.set(e,r.slice(i),n?u:u.data)}}),e},get_item:function(n){var e=this.store.getItem(this.get_key(n));return e?JSON.parse(e):{key:n,created:+new Date,data:null}},set_item:function(n,e){this.store.setItem(this.get_key(n),JSON.stringify(e))},get:function(n){if(t.defined(n.max_age)&&0===n.max_age)return log("%cCACHE OVERRIDE %s","color:darkblue",n.key),null;var e=this.get_item(n.key);if(n.max_age&&t.is_number(n.max_age)){var r=moment().subtract(n.max_age);return null===e.data?(log("%cCACHE FAIL %s","color:darkblue",e.key),null):r<e.modified?(log("%cCACHE HIT %s expires in %s","color:darkblue",e.key,moment.duration(e.modified-r).humanize()),e.data):(log("%cCACHE MISS %s expired %s ago","color:darkblue",e.key,moment.duration(e.modified-r).humanize()),null)}return e?e.data:null},set:function(n){var e=this.get_item(n.key);return e.modified=+new Date,e.data=n.data,this.set_item(n.key,e),n.data},remove:function(n){this.store.removeItem(this.get_key(n.key))},destroy:function(){t.each_own(this.store,function(n,e){this.store.removeItem(e)}.bind(this))},find:function(n){var e=this.get({key:n.key,max_age:n.max_age});return t.find(e,{id:n.id})},upsert:function(n){var e=this.get({key:n.key});t.upsert(e,{id:n.item.id},null,n.item),this.set({key:n.key,data:e})}})})}(window);